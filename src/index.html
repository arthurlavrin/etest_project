<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Best Shop</title>
		<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
		<link rel="stylesheet" href="../dist/css/main.css" />
	</head>
	<body>
		<!-- header -->
		<div id="header"></div>

		<script>
			fetch("/src/components/header.html")
				.then((response) => response.text())
				.then((html) => {
					const header = document.getElementById("header");
					header.innerHTML = html;

					header.querySelectorAll("[data-src]").forEach((img) => {
						img.src = `/src/${img.dataset.src}`;
					});

					const currentPath = window.location.pathname;

					header.querySelectorAll("nav a").forEach((link) => {
						const linkPath = new URL(link.href).pathname;
						if (linkPath === currentPath) {
							link.classList.add("active");
						} else {
							link.classList.remove("active");
						}
					});
				})
				.catch((err) => console.error("Error loading header:", err));
		</script>
		<!-- // header -->

		<!-- footer -->
		<div id="footer"></div>

		<script>
			fetch("/src/components/footer.html")
				.then((res) => res.text())
				.then((html) => {
					const footer = document.getElementById("footer");
					footer.innerHTML = html;

					// active menu
					const currentPath = window.location.pathname;
					footer.querySelectorAll("nav a").forEach((link) => {
						const linkPath = new URL(link.href).pathname;
						if (linkPath === currentPath) {
							link.classList.add("active");
						} else {
							link.classList.remove("active");
						}
					});
				})
				.catch((err) => console.error("Error loading footer:", err));
		</script>

		<!-- // footer -->
	</body>
</html>

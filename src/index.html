<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Best Shop</title>
		<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
		<link rel="stylesheet" href="../dist/css/main.css" />
	</head>
	<body>
		<div id="header"></div>

		<script>
			// fetch('components/header.html')
			//     .then(response => response.text())
			//     .then(data => {
			//         document.getElementById('header').innerHTML = data;
			// });

			fetch("/src/components/header.html")
				.then((response) => response.text())
				.then((html) => {
					const header = document.getElementById("header");
					header.innerHTML = html;

					header.querySelectorAll("[data-src]").forEach((img) => {
						img.src = `/src/${img.dataset.src}`;
					});

					const currentPath = window.location.pathname;

					header.querySelectorAll("nav a").forEach((link) => {

						const linkPath = new URL(link.href).pathname;
						if (linkPath === currentPath) {
							link.classList.add("active");
						} else {
							link.classList.remove("active");
						}
					});
				})
				.catch((err) => console.error("Ошибка загрузки хедера:", err));
		</script>
		<!-- // header -->
	</body>
</html>
